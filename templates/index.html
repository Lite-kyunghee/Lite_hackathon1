<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>LITE AI 비서</title>
  <style>
    body { max-width: 760px; margin: 40px auto; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", sans-serif; line-height: 1.5; }
    h1 { margin-bottom: 8px; }
    .row { display: flex; gap: 8px; }
    input { flex: 1; padding: 10px 12px; font-size: 16px; border: 1px solid #ddd; border-radius: 8px; }
    button { padding: 10px 16px; font-size: 16px; border: 0; border-radius: 8px; background: #111; color: #fff; cursor: pointer; }
    pre { white-space: pre-wrap; background: #fafafa; border: 1px solid #eee; padding: 12px; border-radius: 8px; }
    small { color: #666; }
  </style>
</head>
<body>
  <h1>LITE AI 비서</h1>
  <small>예: “영어 수행 뭐야”, “가장 촉박한 과제”, “내일 급식”, “화요일 시간표”, “공지 보여줘”</small>
  <div style="height: 12px"></div>

  <div class="row">
    <input id="input" placeholder="질문을 입력하세요" onkeydown="if(event.key==='Enter'){ask()}" />
    <button onclick="ask()">검색</button>
  </div>

  <h3>응답</h3>
  <pre id="result"></pre>

  <script>
    async function ask() {
      const q = document.getElementById("input").value.trim();
      const out = document.getElementById("result");
      out.textContent = "질의 중...";

      try {
        const res = await fetch("/ask", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ query: q })
        });
        const data = await res.json();
        out.textContent = data.answer || "(빈 응답)";
      } catch (e) {
        out.textContent = "네트워크 오류 또는 서버 오류가 발생했습니다.";
      }
    }
  </script>
</body>
</html>
